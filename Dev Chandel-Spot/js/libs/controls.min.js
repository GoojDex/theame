function sneeit_control_dependency(t){let e=$(t).attr("data-show");if(void 0===e)return;e=JSON.parse(e);let i=$(t).find(".sneeit-control-value"),s=$(i).val();$(i).is('[type="checkbox"]')&&(s=$(i).is(":checked")?$(i).attr("check"):$(i).attr("uncheck"));for(let t in e){let i=e[t].split(",");i.forEach(e=>{$(document).find($('.sneeit-control[data-key="'+$.trim(e)+'"]')).attr("data-show",s==t)})}}function sneeit_control_actions(){$(document).on("click",".sneeit-control-reset",function(){var t=$(this).parent().parent().parent().find(".sneeit-control-value"),e=$(this).attr("data-default"),i=$(this).attr("data-type");switch(i){case"radio":t.each(function(){$(this).attr("value")==e&&$(this).prop("checked",!0)});break;case"visual-radio":let s=t.parents(".sneeit-control-input");t.val(e),s.find("label").removeClass("active"),s.find('label[data-value="'+e+'"]').addClass("active");break;case"select":t.find("option").each(function(){$(this).attr("value")==e&&$(this).prop("selected",!0)});break;case"checkbox":t.attr("check")==e?t.prop("checked",!0):t.attr("uncheck")==e&&$(this).prop("checked",!1);break;default:t.val(e)}t.change()}),$(document).on("click",".sneeit-control-visual-radio .sneeit-control-input label",function(){if($(this).is(".active"))return;let t=$(this).parents(".sneeit-control-input");t.find("label").removeClass("active"),$(this).addClass("active"),t.find(".sneeit-control-value").val($(this).attr("data-value"))}),$(document).on("focus",".sneeit-control-font-value",function(){var t=$(this).parents(".sneeit-control");t.find(".sneeit-control-font-picker").slideDown()}),$(document).on("change keyup",".sneeit-control-font-value",function(){var t=$(this).val(),e=sneeit_control_str_to_font(t),i=$(this).parents(".sneeit-control").find(".sneeit-control-font-picker");i.find("select.style").val(e.style),i.find("select.weight").val(e.weight),i.find("input.size").val(e.size),i.find(".preview").css("font",t),i.find("input.family").val(e.family),i.find(".font-face-list .option").each(function(){var t=$(this).attr("data-value");if(t==e.family)return $(this).addClass("active"),void sneeit_jq_scroll_inner($(this));$(this).removeClass("active")})}),$(document).on("change keyup",".sneeit-control-font-picker select, .sneeit-control-font-picker input",function(){var t=$(this).parents(".sneeit-control-font-picker"),e=t.find("select.style").val(),i=t.find("select.weight").val(),s=t.find("input.size").val(),n=t.find("input.family").val(),a=(e?e+" ":"")+(i?i+" ":"")+(s?s+" ":"")+n;$(this).parents(".sneeit-control").find(".sneeit-control-value").val(a),t.find(".preview").css("font",a)}),$(document).on("click",".sneeit-control-font-picker .font-face-list .option",function(){if(!$(this).is(".active")){var t=$(this).attr("data-value");$(this).parent().find(".option").removeClass("active"),$(this).addClass("active"),$(this).parents(".sneeit-control-font-picker").find("input.family").val(t).change()}})}function sneeit_control_init(t=null){if(null==t&&(t=$(document).find(".sneeit-control.sneeit-control-uninit")),t.length){var e=!1;t.each(function(){$(this).is(".sneeit-control-uninit")&&($(this).removeClass(".sneeit-control-uninit"),$(this).is(".sneeit-control-color")?$(this).find(".sneeit-control-value").iris({palettes:!0,change:function(t,e){$(this).parent().find(".sneeit-control-color-preview").css("background",e.color.toString())}}):$(this).is(".sneeit-control-font")&&(e=!0,sneeit_control_font($(this).find(".sneeit-control-value"))))}),e&&html_tag_inject("https://fonts.googleapis.com/css?family="+SneeitFont.family.join("|"),"sneeit-link-font-faces")}}function sneeit_control_font(t){var e=t.val();$(sneeit_control_font_form(e)).insertAfter(t.parent())}function sneeit_control_font_form(t=""){var e="",i=sneeit_control_str_to_font(t),s=html_tag("label","",html_tag("div","","Font Style")+html_tag_select("class=style&value="+i.style,SneeitFont.style))+html_tag("label","",html_tag("div","","Font Weight")+html_tag_select("class=weight&value="+i.weight,SneeitFont.weight))+html_tag("label","",html_tag("div","","Font Size")+html_tag("input","class=size&value="+i.size)),n=html_tag("div","class=preview&style=font:"+t,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer facilisis tempor eros, id condimentum justo sagittis sed. Curabitur hendrerit, augue sit amet blandit molestie, sapien ex bibendum lorem, vel rhoncus orci mauris ac lectus.");return e=html_tag("div",".sneeit-control-font-picker",html_tag("div",".col.col1",sneeit_control_font_face_list(i.family))+html_tag("div",".col.col2",s)+html_tag("div",".col.col1",n)+html_tag("div",".clear")),e}function sneeit_control_font_face_list(t=""){for(var e="",i=0;i<SneeitFont.family.length;i++){var s=SneeitFont.family[i].replaceAll("+"," ");e+=html_tag("a","data-value="+s+"&class=option"+(t==s?" active":"")+"&style=font-family:"+s,s)}return e=html_tag("div",".font-face-list",html_tag("input","class=family&type=hidden&value="+t)+html_tag("div",".select",e)),e}function sneeit_control_str_to_font(t=""){var e={family:"",style:"",size:"",weight:""};if(t.has("$("))return e;t=t.replace(", sans-serif","").replace(", ","").replace(",",""),t=t.split(" ");for(let i of t)i.has("px")?e.size=i:-1==SneeitFont.style.indexOf(i)?is_numeric(i)||-1!=SneeitFont.weight.indexOf(i)?(e.weight&&(e.style=e.weight),e.weight=i):e.family||(e.family=i):e.style=i;return e}class SneeitControl{constructor(t,e=array(),i=null){for(var s in this.value=null,this.key="",this.id=sneeit_str_to_id(t),this.name=sneeit_str_to_id(t),this.attr=array(),this.type="text",this.title="",this.label="",this.description="",this.choices=array(),this.default=null,this.heading="",this.args=array(),this.show="",this.check=null,this.uncheck=null,this.reset=!0,e)isset(e[s])&&isset(this[s])&&(this[s]=e[s]);this.type=strtolower(this.type),this.key=t,this.args=e,"default"in this.args&&(this.default=this.args.default),isset(e.attr)&&(this.attr=e.attr),"checkbox"==this.type&&(isset(e.check)&&(this.check=e.check),isset(e.uncheck)&&(this.uncheck=e.uncheck)),null==i&&isset(e.value)&&(this.value=e.value),null!==i&&(this.value=i),null==this.value&&null!==this.default&&(this.value=this.default),"checkbox"==this.type?null==this.check&&null==this.uncheck&&(this.value=Boolean(this.value)):"number"==this.type&&(this.value=Number(this.value)),null==this.value&&(this.value=""),isset(e.id)&&(this.id=e.id),this.title||(this.label?this.title=this.label:this.title=sneeit_slug_to_title(this.key)),this.args.title=this.title,this.args.value=this.value,isset(e.choice)?this.choices=e.choice:isset(e.choices)&&(this.choices=e.choices),isset(e.description)?this.description=e.description:isset(e.desc)&&(this.description=e.desc),isset(e.reset)&&!e.reset&&(this.reset=!1),"checkbox"==this.type&&(null!=this.check&&null!=this.uncheck||(this.reset=null)),isset(e.show)&&(this.show=e.show)}render(){var t="sneeit-control-"+this.id,e="sneeit-control sneeit-control-uninit sneeit-control-"+this.type+" "+t;let i={id:t,"data-key":this.key,"data-type":this.type};return this.show&&(e+=" sneeit-control-detonator",setTimeout(function(){sneeit_control_dependency("#"+t)},100),i["data-show"]=JSON.stringify(this.show)),i.class=e,html_tag("div",i,this.render_content())}render_content(){var t="";this.heading&&(t+=html_tag("div",".sneeit-control-separator",html_tag("span","",this.heading))),t+=html_tag("div",".sneeit-control-info",html_tag("div",".sneeit-control-title",html_tag("span","",this.title)+(this.reset&&null!=this.default?html_tag_a({class:"sneeit-control-reset noselect","data-default":this.default,"data-type":this.type},"Reset"):""))+(empty(this.description)?"":html_tag("div",".sneeit-control-description",this.description)));var e="";switch(this.attr.type=this.type,this.attr["data-type"]=this.type,this.attr.class=esc_attr("sneeit-control-"+this.type+"-value sneeit-control-value "+esc_attr(this.id)),this.attr.name=esc_attr(this.name),this.attr.id=esc_attr(this.id),this.attr.value=esc_attr(this.value),null!=this.default&&(this.attr["data-default"]=esc_attr(this.default)),"checkbox"==this.type&&null!=this.check&&null!=this.uncheck&&(this.attr.check=this.check,this.attr.uncheck=this.uncheck),this.type){case"checkbox":(null!=this.check&&this.value==this.check||null!=this.check&&!empty(this.value))&&(this.attr.checked="on"),e=html_tag("input",this.attr,this.title)+" "+html_tag("span","",this.title);break;case"radio":for(let t in this.choices)this.attr.value=t,t.toString()===this.value.toString()&&(this.attr.checked="on"),e+=html_tag("label",null,html_tag("input",this.attr)+html_tag("span",null,this.choices[t]));break;case"visual-radio":this.attr.type="hidden",this.attr.value=i,e=html_tag("input",this.attr);for(let t in this.choices){let i="";sneeit_is_image_src(this.choices[t])?i+=html_tag_img(null,this.choices[t]):i+=this.choices[t];let s={"data-value":t};this.value.toString()==t.toString()&&(s.class="active"),e+=html_tag("label",s,i)}break;case"select":for(var i in this.choices){var s={value:esc_attr(i)};this.value.toString()===i.toString()&&(s.selected="on"),e+=html_tag("option",s,this.choices[i])}e=html_tag("select",this.attr,e);break;case"color":var n=this.attr;n.type="text",e=html_tag("span","class=sneeit-control-color-preview&style=background:"+this.attr.value)+html_tag("input",n);break;case"textarea":e=html_tag("textarea",this.attr,this.value);break;default:e=html_tag("input",this.attr,"")}return"radio"!=this.type&&"visual-radio"!=this.type&&(e=html_tag("label",null,e)),t+=html_tag("div",".sneeit-control-input",e),t}}$(document).on("change",".sneeit-control-detonator .sneeit-control-value",function(){sneeit_control_dependency($(this).parents(".sneeit-control-detonator"))});var SneeitFont={style:["","normal","italic","oblique"],weight:["","normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900"],family:["Allerta","Allerta+Stencil","Arimo","Arvo","Bentham","Calibri","Calligraffitti","Cambria","Cantarell","Cardo","Cherry+Cream+Soda","Chewy","Coming+Soon","Consolas","Copse","Corsiva","Cousine","Covered+By+Your+Grace","Crafty+Girls","Crimson+Text","Crushed","Cuprum","Damion","Dancing+Script","EB+Garamond","Fontdiner+Swanky","GFS+Didot","GFS+Neohellenic","Geo","Gruppo","Hanuman","Homemade+Apple","IM+Fell+DW+Pica","IM+Fell+DW+Pica+SC","IM+Fell+Double+Pica","IM+Fell+Double+Pica+SC","IM+Fell+English","IM+Fell+English+SC","IM+Fell+French+Canon","IM+Fell+French+Canon+SC","IM+Fell+Great+Primer","IM+Fell+Great+Primer+SC","Inconsolata","Indie+Flower","Josefin+Sans","Josefin+Slab","Just+Another+Hand","Kenia","Kranky","Lato","Lobster","Lora","Luckiest+Guy","Merriweather","Molengo","Montserrat","Mountains+of+Christmas","Neucha","Neuton","Nobile","Old+Standard+TT","Open+Sans","Oswald","PT+Sans","PT+Sans+Caption","PT+Sans+Narrow","Pacifico","Paytone+One","Permanent+Marker","Philosopher","Play","Playfair+Display","Puritan","Reenie+Beanie","Roboto","Roboto+Mono","Rock+Salt","Sacramento","Schoolbell","Slackey","Sorts+Mill+Goudy","Sue+Ellen+Francisco","Sunshiney","Syncopate","Tinos","Ubuntu","UnifrakturMaguntia","Unkempt","Vollkorn","Walter+Turncoat","Yanone+Kaffeesatz"]};sneeit_control_actions();