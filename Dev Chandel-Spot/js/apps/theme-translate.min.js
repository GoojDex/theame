function sneeit_theme_translate(){if(theme.apps.translate=sneeit_theme_translate_scan(),empty(theme.apps.translate))$(document).find(".sneeit-theme-app-page-translate").html("Template has no any text to translate");else{var e=html_tag("input",{class:"sneeit-theme-translate-search",placeholder:"Search a text"}),t="",n=0;$.each(theme.apps.translate,function(e,a){var s=new SneeitControl("trans-"+n,{title:e,default:e,value:a});t+=s.render(),n++}),$(document).find(".sneeit-theme-app-toolbar-translate").html(e),$(document).find(".sneeit-theme-app-page-translate").html(t)}}function sneeit_theme_translate_scan(e=""){empty(e)&&(e=theme.code.current);var t=new Object;e=sneeit_get_str_before_splits(e,["</html>",sneeit_theme_option_anchor,sneeit_theme_option_anchor_new,sneeit_theme_menu_anchor,sneeit_theme_menu_anchor_new,sneeit_theme_demo_anchor,sneeit_theme_demo_anchor_new]);for(var n=new XMLStringElement(e),a=n.getElements("span?"+sneeit_theme_translate_attr,ARRAY),s=0;s<a.length;s++)t[a[s].attr[sneeit_theme_translate_attr]]=a[s].xml.inner;if(e.has(sneeit_theme_translate_js_anchor)){let n=sneeit_get_str_between_keys(e,sneeit_theme_translate_js_anchor,sneeit_theme_translate_js_anchor);if(n=sneeit_parse_json(n),n)for(let e in n)t[e]=n[e]}return t}function sneeit_theme_translate_actions(){$(document).on("keyup",".sneeit-theme-translate-search",function(){var e=$(this).val(),t=$(document).find(".sneeit-theme-app-page-translate .sneeit-control");empty(e)?t.show():(e=e.toLowerCase(),t.hide(),t.each(function(){var t=$(this).find(".sneeit-control-title span").text(),n=$(this).find(".sneeit-control-value").val();t=t.toLowerCase(),n=n.toLowerCase(),(t.has(e)||n.has(e))&&$(this).show()}))}),$(document).on("mouseleave",".sneeit-theme-app-page-translate",function(){var e=new Object;$(this).find(".sneeit-control-value").each(function(){var t=$(this).attr("data-default"),n=$(this).val();e[t]=n});var t=sneeit_theme_translate_apply(e);t&&theme.code.current!=t&&theme.code.set(t)}),$(document).on("click",".sneeit-theme-app-page-translate .sneeit-control-reset",function(){var e=$(this).parents(".sneeit-control").find(".sneeit-control-value"),t=e.attr("data-default");e.val(t)})}function sneeit_theme_translate_apply(e=null,t=""){empty(e)&&(e=theme.apps.translate),empty(t)&&(t=theme.code.current);let n=sneeit_get_str_before_splits(t,["</html>",sneeit_theme_option_anchor,sneeit_theme_option_anchor_new,sneeit_theme_menu_anchor,sneeit_theme_menu_anchor_new,sneeit_theme_demo_anchor,sneeit_theme_demo_anchor_new]);for(var a=new XMLStringElement(n),s=a.getElements("span?"+sneeit_theme_translate_attr,ARRAY),_=0;_<s.length;_++){var r=s[_],i=r.attr[sneeit_theme_translate_attr];i in e&&s[_].setHtml(e[i])}if(t=t.replaceAll(n,a.xml.outer),t.has(sneeit_theme_translate_js_anchor)){let n=sneeit_get_str_between_keys(t,sneeit_theme_translate_js_anchor,sneeit_theme_translate_js_anchor);if(n=sneeit_parse_json(n),n){for(let t in n)t in e&&(n[t]=e[t]);n=JSON.stringify(n),t=sneeit_set_str_between_keys(t,sneeit_theme_translate_js_anchor,sneeit_theme_translate_js_anchor,n)}}return t}const sneeit_theme_translate_attr="data-l10n",sneeit_theme_translate_js_anchor="/*SNEEIT-THEME-TRANSLATE-JS*/";$(document).on("click",".sneeit-theme-app-menu-item-translate",function(){sneeit_theme_translate()}),sneeit_theme_translate_actions();