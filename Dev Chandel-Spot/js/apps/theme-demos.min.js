function sneeit_theme_demos(){var e=sneeit_demos_scan(),t=$(document).find(".sneeit-theme-app-page-demos");if(sneeit_is_error(e))return t.html(e.message),!1;theme.apps.demos=e;var i=html_tag("input",{class:"sneeit-theme-demo-search",placeholder:"Search a demo"});$(document).find(".sneeit-theme-app-toolbar-demos").html(i);var n="";return $.each(e,function(e,t){n+=html_tag("div",".sneeit-theme-demo-item",html_tag("div",".thumbnail",html_tag_img("",t.thumb))+html_tag("div",".footer",html_tag("h4",".title",t.title)+html_tag("div",".actions",html_tag_a("class=preview&target=_blank","Preview",t.preview)+html_tag_a("class=import&data-demo_id="+e,"Import"))))}),t.html(n+html_tag("div",".clear")),!0}function sneeit_theme_demo_actions(){$(document).on("click",".sneeit-theme-demo-item .import",function(){if(confirm(sneeit_theme_demo_warning)){var e=$(this).attr("data-demo_id");sneeit_demos_apply(e)}}),$(document).on("keyup",".sneeit-theme-demo-search",function(){var e=$(this).val(),t=$(document).find(".sneeit-theme-app-page-demos .sneeit-theme-demo-item");empty(e)?t.show():(e=e.toLowerCase(),t.hide(),t.each(function(){var t=$(this).find(".footer .title").text();t=t.toLowerCase(),t.has(e)&&$(this).show()}))})}function sneeit_demos_scan(e=theme.code.current){var t=sneeit_theme_demo_anchor,i=sneeit_get_str_between_keys(e,t,t);if(i||(t=sneeit_theme_demo_anchor_new,i=sneeit_get_str_between_keys(e,t,t)),!i)return sneeit.error.set("The template has no any demo declaration");e=e.remove(i);var n=sneeit_parse_json("{"+i+"}");if(!n)return sneeit.error.set("Some demos were defined invalid in the template");for(var r in n){var a=n[r];"thumb"in a?"preview"in a?"data"in a?("title"in a||(a.title=sneeit_slug_to_title(r)),n[r]=a):a.error="Missing <strong>Demo Data</strong> property":a.error="Missing <strong>Demo Preview</strong> property":a.error="Missing <strong>Demo Thumbnail</strong> property"}return n}function sneeit_demos_apply(e){var t=theme.apps.demos[e];if(empty(t))return alert("Empty Demo Define. Code: "+e);if(!("data"in t))return alert("Missing Demo Data. Code: "+e);var i=theme.code.current;if("settings"in t.data){var n=sneeit_theme_options_scan(i,SETTINGS);if(sneeit_is_error(n))return sneeit.error.alert();for(let e in n)e in t.data.settings?n[e].value=t.data.settings[e]:sneeit_theme_demo_set_default&&"default"in n[e]&&(n[e].value=n[e].default);i=sneeit_theme_option_apply(i,n,SETTINGS)}var r=new XMLStringElement(i);if("variables"in t.data){var a=r.getElements("Variable");if(empty(a))return alert("Missing Variable Defines");for(var o in a)sneeit_theme_demo_set_default&&"default"in a[o].attr&&a[o].setAttr("value",a[o].attr.default);for(var o in t.data.variables){if(!(o in a))return alert("Can not set value for Variable ["+o+"]");a[o].setAttr("value",t.data.variables[o])}}if("widgets"in t.data){var s=new Array;for(var m in t.data.widgets){var d=r.getElements("b:section?id="+m,ARRAY);if(empty(d)&&(d=r.getElements("b:section-contents?id="+m,ARRAY),empty(d)))return alert("Missing section ["+m+"]");d=d[0];for(var _=t.data.widgets[m],l="",h=0;h<_.length;h++){for(var u=_[h],c=0;c<1e3&&(-1!=r.xml.inner.indexOf(' id="'+u.type+c+'"')||-1!=r.xml.inner.indexOf(" id='"+u.type+c+"'")||-1!=s.indexOf(u.type+c));c++);c>=1e3||(u.id=u.type+c,s.push(u.id),l+=html_tag("b:widget",u))}d.setHtml(l)}}i=r.xml.inner,i!=theme.code.current?(i=theme_fix_blogger_unicode_error(i),theme.code.set(i),setTimeout(function(){theme.wrapper.toolbar.buttons.primary_button.click()},200)):alert("You have already imported this demo")}const sneeit_theme_demo_anchor="BLOGGER-DEMO-OPTIONS",sneeit_theme_demo_anchor_new="SNEEIT-THEME-DEMOS";var sneeit_theme_demo_set_default=!1,sneeit_theme_demo_warning="Warning: The importer will override your widget layout, settings and style variables so do it for new website only and doing BACKUP before importing.";$(document).on("click",".sneeit-theme-app-menu-item-demos",function(){sneeit_theme_demos()}),sneeit_theme_demo_actions();