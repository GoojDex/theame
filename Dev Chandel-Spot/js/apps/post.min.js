function sneeit_post_init(){var e=sneeit_post_get_elements();if(sneeit_is_error(e))return sneeit.loc.href.has(sneeit.query.post)?sneeit.error.alert():"";$(html_tag_a("class=sneeit-post-permalink-tag&target=_blank",post.wrapper.workspace.side.permalink.text(),post.wrapper.workspace.side.permalink.text())).insertAfter(post.wrapper.workspace.title),sneeit_wait_thing(function(){return post.code.get(),null!=post.code.current},sneeit_post_main_menu,function(){window.location.reload()},5)}function sneeit_post_get_elements(){return post.id=sneeit_get_str_after_split(sneeit.loc.pathname,"/blog/post/edit/"+blog.id+"/"),empty(post.id)?sneeit.error.set("Can not find POST ID"):(post.wrapper.all=$("header").parent().parent(),post.wrapper.all.addClass("sneeit-post-wrapper"),post.wrapper.all.length?(post.wrapper.header=$("header").parent(),post.wrapper.header.addClass("sneeit-post-app-menu").css("opacity","0"),post.wrapper.header.length?(post.wrapper.workspace.all=post.wrapper.all.find("> c-wiz").first().find("> div > c-wiz > div[data-editmode]").first(),post.wrapper.workspace.all.length?(post.wrapper.workspace.header=post.wrapper.workspace.all.find(">div").first(),post.wrapper.workspace.header.addClass("sneeit-post-workspace-header"),post.wrapper.workspace.body=post.wrapper.workspace.header.next(),post.wrapper.workspace.body.addClass("sneeit-post-workspace-body"),post.wrapper.workspace.header.main=post.wrapper.workspace.header.find(">div").first(),post.wrapper.workspace.title=post.wrapper.workspace.all.find(">div").first().find('>div>div>div>div>input[type="text"][autocomplete="off"]'),post.wrapper.workspace.all.addClass("sneeit-post-workspace"),post.wrapper.workspace.title.addClass("sneeit-post-title"),post.wrapper.workspace.title.length?(post.wrapper.workspace.side.all=post.wrapper.workspace.all.find(">div").last().find(">div>div>div").last(),post.wrapper.workspace.side.inner=post.wrapper.workspace.side.all.find(">span[jsslot]>c-wiz>div>div").last(),post.wrapper.workspace.side.label=post.wrapper.workspace.side.inner.find("textarea").first(),post.wrapper.workspace.side.permalink=post.wrapper.workspace.side.inner.find("[data-blogurl]").first(),post.wrapper.workspace.side.description=post.wrapper.workspace.side.inner.find("textarea").last(),post.wrapper.workspace.side.all.addClass("sneeit-post-sidebar"),post.wrapper.workspace.side.inner.addClass("sneeit-post-sidebar-inner"),post.wrapper.workspace.side.label.addClass("sneeit-post-label"),post.wrapper.workspace.side.permalink.addClass("sneeit-post-permalink"),post.wrapper.workspace.side.description.addClass("sneeit-post-description"),post.wrapper.workspace.side.all.length?post.wrapper.workspace.side.inner.length?post.wrapper.workspace.side.label.length?(post.wrapper.workspace.COMPOSE.all=post.wrapper.workspace.side.all.prev().find(">span[jsslot]>div>div").first(),post.wrapper.workspace.COMPOSE.toolbar.all=post.wrapper.workspace.COMPOSE.all.find(">div").first().find(">div").first(),post.wrapper.workspace.COMPOSE.toolbar.switcher.all=post.wrapper.workspace.COMPOSE.toolbar.all.find('>div[data-default="compose"]').first().find('> div[role="listbox"] > div[role="presentation"]').first(),post.wrapper.workspace.COMPOSE.toolbar.switcher.HTML=post.wrapper.workspace.COMPOSE.toolbar.switcher.all.find('div[data-value="html"]'),post.wrapper.workspace.COMPOSE.toolbar.switcher.COMPOSE=post.wrapper.workspace.COMPOSE.toolbar.switcher.all.find('div[data-value="compose"]'),post.wrapper.workspace.COMPOSE.all.length?post.wrapper.workspace.COMPOSE.toolbar.all.length?post.wrapper.workspace.COMPOSE.toolbar.switcher.all.length?post.wrapper.workspace.COMPOSE.toolbar.switcher.HTML.length?post.wrapper.workspace.COMPOSE.toolbar.switcher.COMPOSE.length?(post.wrapper.workspace.COMPOSE.all.addClass("sneeit-post-workspace-compose"),post.wrapper.workspace.COMPOSE.toolbar.switcher.all.addClass("sneeit-post-workspace-compose-switcher"),post.wrapper.workspace.COMPOSE.toolbar.switcher.HTML.addClass("sneeit-post-workspace-compose-switcher-html"),post.wrapper.workspace.HTML.all=post.wrapper.workspace.COMPOSE.all.next(),post.wrapper.workspace.HTML.toolbar.all=post.wrapper.workspace.HTML.all.find(">div").first().find(">div").first(),post.wrapper.workspace.HTML.toolbar.all.addClass("sneeit-post-workspace-html-toolbar"),post.wrapper.workspace.HTML.toolbar.switcher.all=post.wrapper.workspace.HTML.toolbar.all.find('>div[data-default="html"]').first().find('> div[role="listbox"] > div[role="presentation"]').first(),post.wrapper.workspace.HTML.toolbar.switcher.HTML=post.wrapper.workspace.HTML.toolbar.switcher.all.find('div[data-value="html"]'),post.wrapper.workspace.HTML.toolbar.switcher.COMPOSE=post.wrapper.workspace.HTML.toolbar.switcher.all.find('div[data-value="compose"]'),post.wrapper.workspace.HTML.all.addClass("sneeit-post-workspace-html"),post.wrapper.workspace.HTML.all.length?post.wrapper.workspace.HTML.toolbar.all.length?post.wrapper.workspace.HTML.toolbar.switcher.all.length?post.wrapper.workspace.HTML.toolbar.switcher.HTML.length?post.wrapper.workspace.HTML.toolbar.switcher.COMPOSE.length?(post.wrapper.workspace.HTML.all.addClass("sneeit-post-workspace-html"),post.wrapper.workspace.HTML.toolbar.switcher.all.addClass("sneeit-post-workspace-html-switcher"),void post.wrapper.workspace.HTML.toolbar.switcher.COMPOSE.addClass("sneeit-post-workspace-html-switcher-compose")):sneeit.error.set("Can not find HTML switcher COMPOSE in layout"):sneeit.error.set("Can not find HTML switcher HTML in layout"):sneeit.error.set("Can not find HTML switcher in layout"):sneeit.error.set("Can not find HTML toolbar in layout"):sneeit.error.set("Can not find HTML in layout")):sneeit.error.set("Can not find COMPOSE switcher COMPOSE in layout"):sneeit.error.set("Can not find COMPOSE switcher HTML in layout"):sneeit.error.set("Can not find COMPOSE switcher in layout"):sneeit.error.set("Can not find COMPOSE toolbar in layout"):sneeit.error.set("Can not find COMPOSE in layout")):sneeit.error.set("Can not find label field in layout"):sneeit.error.set("Can not find sidebar inner in layout"):sneeit.error.set("Can not find sidebar in layout")):sneeit.error.set("Can not find post title field in layout")):sneeit.error.set("Can not find workspace in layout")):sneeit.error.set("Can not find header in layout")):sneeit.error.set("Can not find wrapper in layout"))}function sneeit_post_main_menu(){var e="",t="",s="";for(var p in post.apps)e+=html_tag_a({class:"sneeit-post-app-menu-item sneeit-post-app-menu-item-"+p,"data-page":p},p),"editor"!=p&&(s+=html_tag("div","sneeit-post-app-toolbar sneeit-post-app-toolbar-custom sneeit-post-app-toolbar-"+p,html_tag("h2","",p)),t+=html_tag("div","sneeit-post-app-page sneeit-post-app-page-custom sneeit-post-app-page-"+p,p));post.wrapper.header.html(e).addClass("sneeit-post-app-menu"),post.wrapper.header.stop().animate({opacity:1},500),$(html_tag_a("class=sneeit-logo&target=_blank",html_tag_img("logo.png"),"https://www.devchandel.tk")).appendTo(post.wrapper.header),$(html_tag_a({class:"sneeit-post-app-history-back",title:"Back to Your Blog Dashboard",target:"_parent"},html_tag_icon("arrow_back"),"https://www.blogger.com/blog/posts/"+blog.id)).prependTo(post.wrapper.header),$(s).prependTo(post.wrapper.workspace.header),$(t).insertBefore(post.wrapper.workspace.body),post.wrapper.workspace.header.main.addClass("sneeit-post-app-toolbar sneeit-post-app-toolbar-editor active").removeClass("sneeit-post-app-toolbar-custom"),post.wrapper.workspace.body.addClass("sneeit-post-app-page sneeit-post-app-page-editor active").removeClass("sneeit-post-app-page-custom"),$(".sneeit-post-app-menu-item-editor").click().addClass("active"),$(".sneeit-post-app-page").css("height",$(".sneeit-post-app-page-editor").height()+"px"),$(window).on("resize",function(){$(document).find(".sneeit-post-app-menu-item-editor").click(),setTimeout(function(){$(document).find(".sneeit-post-app-page").css("height",$(document).find(".sneeit-post-app-page-editor").height()+"px")},500)}),$(".sneeit-post-app-menu-item").click(function(){if(!$(this).is(".active")){var e=$(".sneeit-post-app-menu-item.active").attr("data-page");$(".sneeit-post-app-menu-item.active").removeClass("active"),$(".sneeit-post-app-toolbar.active").removeClass("active"),$(".sneeit-post-app-page.active").removeClass("active");var t=$(this).attr("data-page");$(".sneeit-post-app-toolbar-"+t).addClass("active"),$(".sneeit-post-app-page-"+t).addClass("active"),$(this).addClass("active"),"editor"==t?post.apps.editor.compose&&"none"!=post.wrapper.workspace.HTML.all.css("display")&&(sneeit_loader_show(),post.wrapper.workspace.HTML.toolbar.switcher.COMPOSE.click(),sneeit_wait_thing(function(){return post.wrapper.workspace.HTML.toolbar.switcher.all.next().find(".sneeit-post-workspace-html-switcher-compose").length},function(){post.wrapper.workspace.HTML.toolbar.switcher.all.next().find(".sneeit-post-workspace-html-switcher-compose").click(),sneeit_loader_hide()},30,100,function(){sneeit_loader_hide()})):("editor"==e&&(post.apps.editor.compose="none"==post.wrapper.workspace.HTML.all.css("display")),"none"==post.wrapper.workspace.HTML.all.css("display")?(post.wrapper.workspace.COMPOSE.toolbar.switcher.HTML.click(),sneeit_loader_show(),post.wrapper.workspace.COMPOSE.toolbar.switcher.HTML.click(),sneeit_wait_thing(function(){return post.wrapper.workspace.COMPOSE.toolbar.switcher.all.next().find(".sneeit-post-workspace-compose-switcher-html").length},function(){post.wrapper.workspace.COMPOSE.toolbar.switcher.all.next().find(".sneeit-post-workspace-compose-switcher-html").click(),sneeit_wait_thing(function(){return"none"!=post.wrapper.workspace.HTML.all.css("display")},function(){sneeit_loader_hide(),post.code.get(),window["sneeit_post_"+t]()})},30,100,function(){sneeit_loader_hide(),alert("Can not switch to HTML mode. Please switch manually")})):(post.code.get(),window["sneeit_post_"+t]()))}})}var post={id:"",code:{current:null,backup:[],set:function(e){post.code.current!=e&&(post.code.backup.push(post.code.current),document.dispatchEvent(new CustomEvent("setCodeMirror",{detail:e})),post.code.current=e)},get:function(){document.dispatchEvent(new CustomEvent("getCodeMirror"))}},wrapper:{all:null,header:null,workspace:{all:null,title:null,header:null,side:{all:null,inner:null,permalink:null,label:null,description:null},HTML:{all:null,toolbar:{all:null,switcher:{all:null,HTML:null,COMPOSE:null}}},COMPOSE:{all:null,toolbar:{all:null,switcher:{all:null,HTML:null,COMPOSE:null}}}}},apps:{amp:{ban_attr:["imageanchor","style","onclick","trbidi"]},lazy:{},seo:{standards:{max_description_length:300}},editor:{compose:!0}}};$(document).ready(function(){if(!sneeit.loc.href.hasNot("/blog/post/edit/"+blog.id+"/")&&!sneeit.loc.href.hasNot(sneeit.query.post)){if(empty(blog.id))return sneeit.loc.href.has(sneeit.query.post)?sneeit.error.alert("Can not find blog id"):"";document.addEventListener("retCodeMirror",function(e){var t=e.detail;post.code.current=t}),$(".sneeit-post-dummy").length||$(html_tag("div",".sneeit-post-dummy.hide")).appendTo($("body")),html_tag_injects(["controls.css","post-amp.css","post-lazy.css","post-seo.css","post-tags.css","post-editor.css","post.css","plugins/jquery.min.js","injects/connector.js"]),sneeit_post_init()}});