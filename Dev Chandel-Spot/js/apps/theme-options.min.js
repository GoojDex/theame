function sneeit_theme_options(){var e=sneeit_theme_options_scan(),t=$(document).find(".sneeit-theme-app-page-options");if(sneeit_is_error(e))return t.html(sneeit.error.get()),!1;theme.apps.options=e;var n=html_tag("input",{class:"sneeit-theme-option-search",placeholder:"Search a theme option"}),i="",o="";for(var s in theme.apps.options){let e=theme.apps.options[s],t="";if("sections"in e)for(let n in e.sections){let i=e.sections[n];if(!("settings"in i))continue;let a="";for(let e in i.settings)a+=sneeit_theme_options_control_html(i.settings[e]);a&&(t+=html_tag_a({"data-panel_id":s,"data-section_id":n,class:"sneeit-theme-option-section"},html_tag("span")+" "+("title"in i?i.title:n)),o+=html_tag("div",{"data-panel_id":s,"data-section_id":n,class:"sneeit-theme-option-settings"},html_tag("h2","",("title"in e?e.title:s)+" / "+("title"in i?i.title:n)+a+html_tag("div","clear"))))}else{let t="";for(var a in e)t+=sneeit_theme_options_control_html(e[a]);o+=html_tag("div",{"data-panel_id":s,"data-section_id":"",class:"sneeit-theme-option-settings"},html_tag("h2","","title"in e?e.title:s)+t+html_tag("div","clear"))}i+=html_tag_a({"data-panel_id":s,class:"sneeit-theme-option-panel"+(t?" has-children":"")},"title"in e?e.title:s)+t}t.html(html_tag("div","sneeit-theme-option-left",i)+html_tag("div","sneeit-theme-option-right",o));var _=t.height()-sneeit_px_to_num(t.css("padding-top")),r=$(document).find(".sneeit-theme-option-left"),d=r.height();for(var s in d>_&&r.css("height",_-sneeit_px_to_num(r.css("padding-bottom"))),$(document).find(".sneeit-theme-app-toolbar-options").html(n),$("body").removeClass("sneeit-theme-option-searching"),$(document).find(".sneeit-theme-option-panel").first().click(),theme.apps.options){let e=theme.apps.options[s];if("sections"in e)for(let t in e.sections){let n=e.sections[t];if("settings"in n)for(let e in n.settings)sneeit_theme_option_set_control_value(n.settings[e],n.settings[e].value)}else for(let t in e)sneeit_theme_option_set_control_value(e[t],e[t].value)}sneeit_control_init($(document).find(".sneeit-theme-app-page-options .sneeit-control"))}function sneeit_theme_options_control_html(e){var t=e;t.attr={"data-panel_id":e.panel_id,"data-section_id":e.section_id,"data-setting_id":e.setting_id};var n=new SneeitControl(e.setting_id,t);return n.render()}function sneeit_theme_option_actions(){$(document).on("click",".sneeit-theme-option-panel",function(){if($("body").removeClass("sneeit-theme-option-searching"),!$(this).is(".active")){$(document).find(".sneeit-theme-option-panel.active").removeClass("active"),$(document).find('.sneeit-theme-option-section[data-panel_id!="'+e+'"]').stop().slideUp(),$(document).find(".sneeit-theme-option-section.active").removeClass("active"),$(document).find(".sneeit-theme-option-settings").stop().hide(),$(this).addClass("active");var e=$(this).attr("data-panel_id");$(this).is(".has-children")?$(document).find('.sneeit-theme-option-section[data-panel_id="'+e+'"]').stop().fadeIn().slideDown().first().click():$(document).find('.sneeit-theme-option-settings[data-panel_id="'+e+'"]').stop().slideDown()}}),$(document).on("click",".sneeit-theme-option-section",function(){if($("body").removeClass("sneeit-theme-option-searching"),!$(this).is(".active")){$(document).find(".sneeit-theme-option-section.active").removeClass("active"),$(document).find(".sneeit-theme-option-settings").stop().hide(),$(this).addClass("active");var e=$(this).attr("data-panel_id"),t=$(this).attr("data-section_id");$(document).find('.sneeit-theme-option-settings[data-panel_id="'+e+'"][data-section_id="'+t+'"]').stop().fadeIn().slideDown()}});let e=null;$(document).on("keyup",".sneeit-theme-option-search",function(){e&&(clearTimeout(e),e=null);var t=$.trim(this.value);t&&(e=setTimeout(function(){return $("body").addClass("sneeit-theme-option-searching"),clearTimeout(e),e=null,t=t.toLowerCase(),t=t.split(" "),$(document).find(".sneeit-theme-option-panel").removeClass("active"),$(document).find(".sneeit-theme-option-section").removeClass("active"),$(document).find(".sneeit-theme-option-settings").stop().hide(),void $(document).find(".sneeit-theme-option-settings .sneeit-control").removeClass("active").each(function(){for(var e=$(this).find(".sneeit-control-info").text().toLowerCase(),n=0;n<t.length&&!e.hasNot(t[n]);n++);if(n>=t.length){var i=$(this).find(".sneeit-control-value").attr("data-panel_id"),o=$(this).find(".sneeit-control-value").attr("data-section_id");$(document).find('.sneeit-theme-option-settings[data-panel_id="'+i+'"][data-section_id="'+o+'"]').stop().fadeIn(),$(this).addClass("active")}})},200))}),$(document).on("mouseleave",".sneeit-theme-option-right",function(){var e=sneeit_theme_option_get_all_value_in_code();if(e){var t=sneeit_theme_option_apply(theme.code.current,theme.apps.options);t!=theme.code.current&&theme.code.set(t)}})}function sneeit_theme_option_get_all_value_in_code(){var e=!1;for(var t in theme.apps.options){let a=theme.apps.options[t];if("sections"in a)for(let o in a.sections){let s=a.sections[o];if(!(!1 in s))for(let a in s.settings){let _=s.settings[a];if("error"in _)theme.apps.options[t].sections[o].settings[a].value=null;else{var n=sneeit_theme_option_get_control_value(_),i=sneeit_get_str_between_keys(theme.code.current,_.start,_.end);n!=i&&(e=!0),theme.apps.options[t].sections[o].settings[a].value=n}}}else for(var o in a){var s=a[o];if("error"in s)theme.apps.options[t][o].value=null;else{n=sneeit_theme_option_get_control_value(s),i=sneeit_get_str_between_keys(theme.code.current,s.start,s.end);n!=i&&(e=!0),theme.apps.options[t][o].value=n}}}return e}function sneeit_theme_option_apply(e,t,n=""){var i=sneeit_theme_option_anchor,o=sneeit_get_str_between_keys(e,i,i);if(empty(o)&&(i=sneeit_theme_option_anchor_new,o=sneeit_get_str_between_keys(e,i,i)),empty(o)||(e=e.remove(o)),SETTINGS==n)for(let n in t)e=sneeit_theme_option_apply_setting(e,t[n]);else for(let n in t){let i=t[n];if("sections"in i)for(let t in i.sections){let n=i.sections[t];if("settings"in n)for(let t in n.settings)e=sneeit_theme_option_apply_setting(e,n.settings[t])}else for(let t in i)e=sneeit_theme_option_apply_setting(e,i[t])}return empty(o)||(e=sneeit_set_str_between_keys(e,i,i,o)),e}function sneeit_theme_option_apply_setting(e,t){if("error"in t||!("value"in t))return e;var n=t.value;if(e=sneeit_set_all_str_between_keys(e,t.start,t.end,n),!("actions"in t))return e;for(var i in t.actions)if(n==i)for(var o=t.actions[i],s=0;s<o.length;s++){var a=o[s];if("replace_tag"in a&&"with"in a){var _=e.indexOf("<"+a.replace_tag),r=e.indexOf(">",_);if(-1==_||-1==r)continue;e=e.substring(0,_)+a.with+e.substring(r+1)}"replace"in a&&"with"in a&&(e=e.replaceAll(a.replace,a.with))}return e}function sneeit_theme_options_scan(e="",t=""){empty(e)&&(e=theme.code.current),e=sneeit_theme_option_auto(e);var n=sneeit_theme_option_anchor,i=sneeit_get_str_between_keys(e,n,n);if(i||(n=sneeit_theme_option_anchor_new,i=sneeit_get_str_between_keys(e,n,n)),!i)return sneeit.error.set("The template has no any option declaration");e=e.remove(i);var o=sneeit_parse_json("{"+i+"}");if(!o)return sneeit.error.set("Some settings were defined invalid in the template");if(SETTINGS==t)var s=new Object;for(let n in o){let i=o[n];if("sections"in i)for(let a in i.sections){let _=i.sections[a];if("settings"in _)for(let i in _.settings){let r=_.settings[i];r.panel_id=n,r.section_id=a,r.setting_id=i,r=sneeit_theme_options_scan_setting(e,r),o[n].sections[a].settings[i]=r,SETTINGS==t&&(s[i]=r)}}else for(var a in o[n]){let i=o[n][a];i.panel_id=n,i.section_id="",i.setting_id=a,i=sneeit_theme_options_scan_setting(e,i),o[n][a]=i,SETTINGS==t&&(s[a]=i)}}return SETTINGS==t?s:o}function sneeit_theme_options_scan_setting(e,t){return"start"in t?"end"in t?-1==e.indexOf(t.start)?(t.error="Not found <strong>start string</strong> in template code",t):-1==e.indexOf(t.end)?(t.error="Not found <strong>end string</strong> in template code",t):("type"in t||(t.type="text"),"value"in t||(t.value=sneeit_get_str_between_keys(e,t.start,t.end),"checkbox"==t.type&&("true"==t.value?t.value=!0:"false"==t.value&&(t.value=!1))),"default"in t||(t.default=t.value),t):(t.error="Missing <strong>end</strong> property",t):(t.error="Missing <strong>start</strong> property",t)}function sneeit_theme_option_get_control_value(e){return $(document).find('.sneeit-control-value[data-panel_id="'+e.panel_id+'"][data-section_id="'+e.section_id+'"][data-setting_id="'+e.setting_id+'"]').each(function(){switch(e.type){case"radio":$(this).is(":checked")&&(e.value=$(this).attr("value"));break;case"checkbox":$(this).is(":checked")?e.value=e.check:e.value=e.uncheck;break;default:e.value=$(this).val()}}),e.value}function sneeit_theme_option_set_control_value(e,t){e.section_id?theme.apps.options[e.panel_id].sections[e.section_id].settings[e.setting_id].value=t:theme.apps.options[e.panel_id][e.setting_id].value=t,$(document).find('.sneeit-control-value[data-panel_id="'+e.panel_id+'"][data-section_id="'+e.section_id+'"][data-setting_id="'+e.setting_id+'"]').each(function(){switch(e.type){case"radio":$(this).attr("value")==t&&$(this).prop("checked",!0);break;case"select":$(this).find("option").each(function(){$(this).attr("value")==t&&$(this).prop("selected",!0)});break;case"checkbox":t==e.check?$(this).prop("checked",!0):t==e.uncheck&&$(this).prop("checked",!1);break;default:$(this).val(t)}})}function sneeit_theme_option_auto(e=theme.code.current){let t="</body>",n="]]></b:skin>",i="</html>",o="SNEEIT_LICENSE";if(e.hasNot(t))return e;let s=sneeit_theme_option_anchor;e.hasNot(s)&&(s=sneeit_theme_option_anchor_new);let a="";e.has(s)?a=sneeit_get_str_between_keys(e,s,s):e=sneeit_set_str_before_key(e,"<b:comment>"+s+s+"</b:comment>",i);let _=new Object;if(e.has(o)&&a.hasNot(o)){console.log("AUTO LICENSE KEY");let t=e.indexOf(o),n=Math.max(e.lastIndexOf("let",t),e.lastIndexOf("var",t)),i=e.indexOf("=",t+o.length);if(-1!=n&&-1!=i){let t=e.indexOf("'",i),o=e.indexOf('"',i);i=t;let s="'";if(i>o&&-1!=o&&(i=o,s='"'),-1!=i){let t=e.indexOf(s,i+1);-1!=t&&(_["sneeit-license-key"]={title:"Sneeit License Key",start:e.substring(n,i+1),end:s,desc:"Login to your Sneeit Account and access Sneeit License on your author dashboard to generate your key"})}}}let r=new Object;if(e.has("<Variable")&&a.hasNot("<Variable")){let t=new XMLStringElement(e),n=t.getElements("Variable");for(let e in n){let t=n[e],i=' value="',o='"/>';if(!("type"in t.attr)||!("description"in t.attr)||!("name"in t.attr)||!("default"in t.attr)||!("value"in t.attr)||"hideEditor"in t.attr||"color"!=t.attr.type&&"font"!=t.attr.type||t.xml.start.hasNot(i)||t.xml.start.hasNot(o)||t.xml.start.indexOf(i)>=t.xml.start.indexOf(o))continue;let s=t.xml.start.indexOf(i);r[e]={title:e.replaceAll("."," ").toCapitalize(),type:t.attr.type,description:t.attr.description,default:t.attr.default,start:t.xml.start.substring(0,s+i.length),end:o}}}let d=new Object;if((e.has(sneeit_theme_option_additional_css_anchor)||e.has(sneeit_theme_option_header_additional_js_anchor)||e.has(sneeit_theme_option_header_additional_html_anchor)||e.has(sneeit_theme_option_footer_additional_html_anchor)||e.has(sneeit_theme_option_footer_additional_js_anchor))&&a.hasNot(sneeit_theme_option_additional_css_anchor)&&a.hasNot(sneeit_theme_option_header_additional_js_anchor)&&a.hasNot(sneeit_theme_option_header_additional_html_anchor)&&a.hasNot(sneeit_theme_option_footer_additional_html_anchor)&&a.hasNot(sneeit_theme_option_footer_additional_js_anchor)){if(e.has(sneeit_theme_option_additional_css_anchor)){let t=sneeit_theme_option_additional_css_anchor,i=sneeit_get_str_between_keys(e,sneeit_theme_option_additional_css_anchor,sneeit_theme_option_additional_css_anchor);null==i&&(i=sneeit_get_str_between_keys(e,sneeit_theme_option_additional_css_anchor,n),t=n),null!=i&&(d["Additional CSS"]={type:"textarea",description:"Add CSS Code before the &lt;/head&gt; tag",value:i,start:sneeit_theme_option_additional_css_anchor,end:t})}if(e.has(sneeit_theme_option_header_additional_html_anchor)){let t=sneeit_get_str_between_keys(e,sneeit_theme_option_header_additional_html_anchor,sneeit_theme_option_header_additional_html_anchor);null!=t&&(d["Additional Header HTML"]={type:"textarea",description:"Add HTML Code after the &lt;head&gt; tag. Your code should be compatible with Blogger XML syntax, otherwise, errors could raise.",value:t,start:sneeit_theme_option_header_additional_html_anchor,end:sneeit_theme_option_header_additional_html_anchor})}if(e.has(sneeit_theme_option_footer_additional_html_anchor)){let t=sneeit_get_str_between_keys(e,sneeit_theme_option_footer_additional_html_anchor,sneeit_theme_option_footer_additional_html_anchor);null!=t&&(d["Additional Footer HTML"]={type:"textarea",description:"Add HTML Code before the &lt;/body&gt; tag. Your code should be compatible with Blogger XML syntax, otherwise, errors could raise.",value:t,start:sneeit_theme_option_footer_additional_html_anchor,end:sneeit_theme_option_footer_additional_html_anchor})}if(e.has(sneeit_theme_option_header_additional_js_anchor)){let t=sneeit_get_str_between_keys(e,sneeit_theme_option_header_additional_js_anchor,sneeit_theme_option_header_additional_js_anchor);null!=t&&(d["Additional Header JS"]={type:"textarea",description:"Add JavaScript Code before the &lt;/head&gt; tag. If you want to add code that has &lt;script&gt; tag in it, please use <b>Additional Header HTML</b> option instead",value:t,start:sneeit_theme_option_header_additional_js_anchor,end:sneeit_theme_option_header_additional_js_anchor})}if(e.has(sneeit_theme_option_footer_additional_js_anchor)){let t=sneeit_get_str_between_keys(e,sneeit_theme_option_footer_additional_js_anchor,sneeit_theme_option_footer_additional_js_anchor);null!=t&&(d["Additional Footer JS"]={type:"textarea",description:"Add JavaScript Code before the &lt;/body&gt; tag. If you want to add code that has &lt;script&gt; tag in it, please use <b>Additional Footer HTML</b> option instead",value:t,start:sneeit_theme_option_footer_additional_js_anchor,end:sneeit_theme_option_footer_additional_js_anchor})}}let l="";empty(_)||(l='"Sneeit License Key":'+JSON.stringify(_)),empty(r)||(l&&(l+=","),l+='"General Style":'+JSON.stringify(r));let h="";if(empty(d)||(h=JSON.stringify(d),h='"Additional Code" : '+h),l||h){let t=l;a&&(t&&(t+=","),t+=a),h&&(t&&(t+=","),t+=h),e=sneeit_set_str_between_keys(e,s,s,t)}return e}const sneeit_theme_option_anchor="BLOGGER-TEMPLATE-OPTIONS",sneeit_theme_option_anchor_new="SNEEIT-THEME-OPTIONS",sneeit_theme_option_additional_css_anchor="/*SNEEIT-THEME-OPTION-ADDITIONAL-CSS*/",sneeit_theme_option_header_additional_html_anchor="<b:comment>SNEEIT-THEME-OPTION-HEADER-ADDITIONAL-HTML</b:comment>",sneeit_theme_option_header_additional_js_anchor="/*SNEEIT-THEME-OPTION-HEADER-ADDITIONAL-JS*/",sneeit_theme_option_footer_additional_html_anchor="<b:comment>SNEEIT-THEME-OPTION-FOOTER-ADDITIONAL-HTML</b:comment>",sneeit_theme_option_footer_additional_js_anchor="/*SNEEIT-THEME-OPTION-FOOTER-ADDITIONAL-JS*/";$(document).on("click",".sneeit-theme-app-menu-item-options",function(){sneeit_theme_options()}),sneeit_theme_option_actions();